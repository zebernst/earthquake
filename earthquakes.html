<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Zach Bernstein, Zack Vanden Bergh, and Nick Hanoian" />

<meta name="date" content="2017-11-30" />

<title>Earthquakes</title>

<script src="Earthquakes_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Earthquakes_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Earthquakes_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Earthquakes_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Earthquakes_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Earthquakes_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="Earthquakes_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="Earthquakes_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="Earthquakes_files/navigation-1.1/tabsets.js"></script>
<script src="Earthquakes_files/navigation-1.1/codefolding.js"></script>
<link href="Earthquakes_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Earthquakes_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Earthquakes</h1>
<h4 class="author"><em>Zach Bernstein, Zack Vanden Bergh, and Nick Hanoian</em></h4>
<h4 class="date"><em>November 30, 2017</em></h4>

</div>


<div id="introduction-to-the-data" class="section level2">
<h2>Introduction to the Data</h2>
<p>The following data is gathered as an observational study to track the patterns of earthquakes on a global scale. The data was provided by the U.S. Geological Survey (USGS), though due to the sheer volume of earthquakes that occur globally (upwards of 9,500 each month), the USGS only publicly provides the last month’s worth of data via their GeoJSON API. One of the authors of this analysis, Zach Bernstein, has been gathering this data of his own volition for an independent project on and off since the beginning of the year, storing it into a local database on his computer. There are 59,165 individual records of earthquakes (each with 26 variables) that are used in this analysis. Since the data stored by Zach was only grabbed when he remembered to run the scrip to do so (which was admittedly not very often), the data we have is clearly incomplete, with many gaps in it. The following is a graph of which times of the year 2017 we have data for:</p>
<pre class="r"><code>ggplot(quakes, mapping = aes(x = as.Date(time), y = mag)) +
  geom_point(color=&#39;darkorchid&#39;) +
  labs(title=&quot;Time Series of Earthquake Data&quot;,
       x=&quot;Date of Earthquake&quot;,
       y=&quot;Magnitude&quot;)+
  theme(plot.title = element_text(hjust = 0.5))  # centers title</code></pre>
<p><img src="Earthquakes_files/figure-html/timeseries-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Since this data takes place within the span of about one year, we aren’t able to examine any trends that take place over a long period of time, which is unfortunate considering that there are plenty of interesting trends to be seen on the geological scale of tens of years (or even tens of thousands of years). The data provided by the USGS has upwards of thirty variables that are measured for each quake, such as magnitude, intensity, latitude, longitude, depth, and so on. For this particular examination, we will be focusing on the physical location of the quakes (i.e. latitude/longitude and depth), as well as the magnitude. Each data point is measured by a sensor and automatically logged into the system, and most (if not all) are reviewed and approved by a human as well. This means that there should not be any bias in the data. Despite this checking, however, some of the data might be subject to minor inaccuracies due to technological faults (no pun intended). The data is interesting to look at because we think of earthquakes as such a rare phenomenon, but the reality is that hundreds of tiny earthquakes occur every day, most too small to be felt by humans but powerful enough to be detected by sensitive instruments. The sheer abundance of the data gives us insights into the way our world works, from where tectonic plates are to how powerful earthquakes are in the ocean versus on land.</p>
</div>
<div id="data-analysis" class="section level2">
<h2>Data Analysis</h2>
<div id="global-distribution-of-earthquakes" class="section level3">
<h3>Global Distribution of Earthquakes</h3>
<pre class="r"><code>ggplot(world, aes(x = long, y = lat, group=group)) +
  geom_path() +
  scale_y_continuous(breaks = (-2:2) * 30) +
  scale_x_continuous(breaks = (-4:4) * 45) +
  geom_point(data = quakes, 
             mapping = aes(x=longitude, y=latitude, group=NULL, color=mag), 
             size=1, alpha=0.5)+
  scale_color_gradient(low=&quot;lightcyan&quot;, high=&quot;blue&quot;) +
  labs(title=&#39;Earthquakes Around the World, by Magnitude&#39;, 
       x=&#39;Longitude&#39;, y=&#39;Latitude&#39;, color=&#39;Magnitude&#39;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/map-all-quakes-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>This graph shows the distribution of earthquakes around the globe. Each recorded earthquake is plotted on a Mercator Projection of the earth. The color of each point is determined by the magnitude.</p>
<p>The outlines of tectonic plates are visible due to the high frequency of earthquakes on their boundaries. There is also a large collection of data points, which begins around Oceania, goes up the east coast of Asia, crosses the Pacific Ocean to Alaska, and moves down the west coasts of the Americas. This area with a high frequency of seismic activity is known as the Ring of Fire. The Ring of Fire is home to over 90 percent of the world’s earthquakes and 75 percent of the world’s active volcanoes (USGS). One other area of significant amounts of seismic activity is the border between Europe and Africa.</p>
<p>There is also a very high number of low-magnitude earthquakes seen in Alaska and across the United States, which we later find to be due to the high frequency of sensors in the United States.</p>
</div>
<div id="global-distribution-of-high-magnitude-earthquakes" class="section level3">
<h3>Global Distribution of High-Magnitude Earthquakes</h3>
<pre class="r"><code>quakes_power &lt;- quakes %&gt;%
  filter(mag &gt; 5.5) %&gt;% 
  mutate(power = factor(case_when(
    mag &lt; 6   ~ 1,
    mag &lt; 6.5 ~ 2,
    TRUE ~ 3 # default case
  )))

ggplot(world, aes(x = long, y = lat, group=group)) +
  geom_path() +
  scale_y_continuous(breaks = (-2:2) * 30) +
  scale_x_continuous(breaks = (-4:4) * 45) +
  geom_point(data = quakes_power, 
             mapping = aes(x=longitude, y=latitude, group=NULL, 
                           color=power), 
             alpha=0.7, size=3) +
  scale_color_manual(values=c(&#39;#ffff00&#39;,&#39;#ff7700&#39;, &#39;#ff0000&#39;),
                     labels= c(&#39;5.5 - 6&#39;, &#39;6 - 6.5&#39;, &#39;&gt; 6.5&#39;)) +
  labs(title=&#39;Earthquakes with Magnitudes Over 5.5&#39;,
       x=&#39;Longitude&#39;, y=&#39;Latitude&#39;, color=&#39;Magnitude&#39;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/map-high-mag-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>This graph shows the distribution of high magnitude earthquakes around the globe. The data has been filtered to only include earthquakes with a magnitude greater than 5.5. These observations are then mutated with a new variable that is based off of their magnitudes. Earthquakes with a magnitude between 5.5 and 6 are grouped together, ones with a magnitude between 6 and 6.5 are another group, and any earthquake with a magnitude greater than 6.5 is the final group. These groups are reflected by the color of the data points, with the lowest magnitude group being yellow, the middle group being orange, and the highest magnitude group being red.</p>
<p>The trends of high activity areas from the first location-based graph are seen again. The Ring of Fire area, especially around Indonesia and Papua New Guinea, has a large number of high-intensity earthquakes, as does the western coast of the Americas. The large number of earthquakes that were previously seen across the United States are no longer seen, because they were all low magnitude earthquakes.</p>
</div>
<div id="distribution-of-quake-magnitude-by-significant-data-contributor" class="section level3">
<h3>Distribution of Quake Magnitude by Significant Data Contributor</h3>
<pre class="r"><code>quakes_net_filtered &lt;- quakes %&gt;% 
  group_by(net) %&gt;% 
  filter(n() &gt; 250) %&gt;% 
  mutate(netNamed = case_when( # capitalize network contributors for facet titles
    net == &quot;us&quot; ~ &quot;INT&quot;, # denote USGS source
    net %in% c(&quot;ak&quot;, &quot;ci&quot;, &quot;hv&quot;, &quot;mb&quot;, &quot;nc&quot;, &quot;nn&quot;, &quot;pr&quot;, &quot;uu&quot;, &quot;uw&quot;) ~ toupper(net), # capitalize
    TRUE ~ &quot;N/A&quot; # default case
  ))

contrib_names &lt;- c(&quot;AK [Alaska Earthquake Center]&quot;, 
                   &quot;CI [California Integrated Seismic Network]&quot;, 
                   &quot;HV [Hawaii Volcano Observatory]&quot;, 
                   &quot;MB [Montana Bureau of Mines and Geology]&quot;, 
                   &quot;NC [Northern California Seismic System]&quot;, 
                   &quot;NN [Nevada Seismological Laboratory]&quot;, 
                   &quot;PR [Puerto Rico Seismic Network]&quot;, 
                   &quot;INT [Gathered from International Sources]&quot;, 
                   &quot;UU [University of Utah Seismograph Stations]&quot;, 
                   &quot;UW [Pacific Northwest Seismic Network]&quot;)

ggplot(quakes_net_filtered, mapping = aes(x = mag, fill = factor(net, labels=contrib_names))) +
  geom_histogram() +
  facet_wrap(~ netNamed, ncol=2) +
  labs(title=&#39;Sources of Earthquake Data by Magnitude and Frequency&#39;,
       x=&#39;Magnitude&#39;, y=&#39;Count&#39;, fill=&#39;Contributor&#39;)+
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/network-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>This graph shows the distribution of earthquake magnitudes for each significant data contributor, which we specified as someone who has submitted more than 250 earthquake events to the dataset. There is a relatively high number of reports from certain contributors, specifically Alaska Earthquake Center. Overall, the amount of data from international sources is dwarfed by the amount submitted by the United States’ contributors. Only the facet titled “INT” for international contains data from international sources. All other facets reflect data from the United States.</p>
<pre class="r"><code>ggplot(quakes, mapping = aes(x = mag)) +
  geom_density(fill=&#39;darkorchid&#39;) +
  labs(title=&#39;Density of Earthquakes by Magnitude&#39;, x=&#39;Magnitude&#39;, y=&#39;Density&#39;)+
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/bimodal-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>This density plot of magnitude of all of the earthquakes shows a clear bimodal distribution. In order to find out why, we examined the network contributors and came to the conclusion that the reason for the bimodal distribution was that the stations housed in the United States were reporting a very high number of low-intensity earthquakes. This is why the density graph has such a large peak centered at a magnitude of approximately 1. The international data, on the other hand, is mostly larger earthquakes.</p>
<pre class="r"><code>quakes_us &lt;- quakes %&gt;% 
  filter(net!=&quot;us&quot;)  # anything from the &quot;us&quot; source are earthquakes from global sources aggregated by USGS

ggplot(world, aes(x = long, y = lat, group=group)) +
  geom_path() +
  scale_y_continuous(breaks = (-2:2) * 30) +
  scale_x_continuous(breaks = (-4:4) * 45) +
  geom_point(data = quakes_us, 
             mapping = aes(x=longitude, y=latitude, group=NULL, color=mag), 
             size=1, alpha=0.5)+
  scale_color_gradient(low=&quot;lightcyan&quot;, high=&quot;blue&quot;) +
  labs(title=&#39;Earthquakes Recorded by American Contributors&#39;, 
       x=&#39;Longitude&#39;, y=&#39;Latitude&#39;, color=&#39;Magnitude&#39;) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/us-quakes-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>This graph, of only earthquakes submitted by the United States’ contributors, makes it clear that the United States contributors are recording a very high number of low-intensity earthquakes.</p>
<pre class="r"><code>ggplot(quakes_us, mapping = aes(x = mag)) +
  geom_density(fill=&#39;darkorchid&#39;) +
  labs(title=&#39;Density of Earthquakes from the United States&#39;, x=&#39;Magnitude&#39;, y=&#39;Density&#39;)+
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/us-density-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>By recreating the previous density plot, but with this new set of data, we see a normal, bell-shaped distribution of magnitudes.</p>
</div>
<div id="land-based-versus-sea-based-earthquakes" class="section level3">
<h3>Land-Based versus Sea-Based Earthquakes</h3>
<pre class="r"><code>seabased &lt;- quakes %&gt;% 
  filter(tsunami==1)

quakes_midrange &lt;- quakes %&gt;% 
  filter(mag &gt; floor(min(seabased$mag)), 
         mag &lt; ceiling(max(seabased$mag)))

ggplot(quakes_midrange, mapping = aes(x = mag, fill = factor(tsunami))) +
  geom_density(alpha=.78) +
  scale_fill_manual(labels=c(&quot;Land&quot;, &quot;Water&quot;), values=c(&quot;#3CA000&quot;, &quot;#1096C0&quot;)) +
  labs(title = &quot;Density of Magnitude of Earthquakes by Environment&quot;,
       fill = &quot;Location&quot;,
       x = &quot;Magnitude&quot;,
       y = &quot;Density&quot;)+
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Earthquakes_files/figure-html/water-based-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>One of the variables in the data is called “tsunami”, and it indicates whether or not the earthquake took place on land or at sea. Despite the name of the variable, having “tsunami” set to 1 does not mean that there was or will be a tsunami associated with the event. The above graph shows that earthquakes measured at sea have a higher magnitude on average than quakes measured on land. There are plenty of possible reasons for why this is the case - for example, it might be that the low-magnitude quakes measured at sea cannot be recorded since they’re too weak to be felt by land-based measuring stations, or it could be because the international community has a tendency to report only high-magnitude quakes. Yet another reason for the phenomenon could be that the pressure of water on the fault lines provokes more intense earthquakes than the pressure of the air does on land-based fault lines. We do not know the actual reason for why this phenomenon exists in the data, only that it does. We won’t be able to come to a concrete solution based on this graph alone, since correlation does not imply causation.</p>
</div>
</div>
<div id="conclusions" class="section level2">
<h2>Conclusions</h2>
<p>From our graph of the global distribution of earthquakes, we saw that plotting the location of a large number of earthquakes can be used to find tectonic plates. This trend is seen again in the graph showing only high-magnitude earthquakes. These earthquakes occur almost exclusively on plate boundaries.</p>
<p>Our analysis of different data contributors also gave some interesting results. We learned that the United States records even the smallest seismic activities, which causes them to have a very large number of observations compared to the international community. This causes our data to have a bimodal distribution in regards to magnitude, as seen in our “Density of Earthquakes by Magnitude” graph. Once we isolated the United States’ data, we saw that, in general, earthquake magnitudes follow a normal distribution.</p>
<p>Finally, from the land-based versus sea-based analysis we found that earthquakes at sea generally have a higher magnitude than those found on land. We were not able to find a definitive cause of this, but we did speculate a few possible causes.</p>
</div>
<div id="limitations-recommendations" class="section level2">
<h2>Limitations &amp; Recommendations</h2>
<p>Since the data that we used in this project was only gathered in the last year, it is not possible for us to look at any long-term trends. We compiled all of the current data into a CSV file so any earthquakes that would be logged after we compiled it would be excluded from our project. Additionally, machine malfunctions could have thwarted reliability of the data.</p>
<p>In the future we could expand the study outside of the US-centric data agencies. It makes sense that USGS would have data that are mostly focused in the United States, and sourcing data from other countries’ government agencies would increase the accuracy of global earthquake data. Additionally, we could benefit from adding more sensing stations in more places to get a wider range of data.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
